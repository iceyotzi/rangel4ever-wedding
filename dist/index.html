<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RANGEL4EVER</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Lora:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://docs.google.com">
    <link rel="dns-prefetch" href="https://docs.google.com">
    <link href="./css/output.css" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-apricot-900 to-melon-900 min-h-screen font-body">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <a href="#home" class="text-2xl font-bold text-redwood font-heading">RANGEL4EVER</a>
                <div class="hidden md:flex space-x-8">
                    <a href="#home" class="text-chocolate_cosmos-500 hover:text-redwood transition-colors font-semibold">Home</a>
                    <a href="#schedule" class="text-chocolate_cosmos-500 hover:text-redwood transition-colors font-semibold">Schedule</a>
                    <a href="#visitor-guides" class="text-chocolate_cosmos-500 hover:text-redwood transition-colors font-semibold">Visitor Guides</a>
                    <a href="#our-story" class="text-chocolate_cosmos-500 hover:text-redwood transition-colors font-semibold">Our Story</a>
                    <a href="#faq" class="text-chocolate_cosmos-500 hover:text-redwood transition-colors font-semibold">FAQ</a>
                </div>
                <!-- Mobile menu button -->
                <button class="md:hidden text-chocolate_cosmos-500" onclick="toggleMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            <!-- Mobile menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <a href="#home" class="block py-2 text-chocolate_cosmos-500 hover:text-redwood font-semibold">Home</a>
                <a href="#schedule" class="block py-2 text-chocolate_cosmos-500 hover:text-redwood font-semibold">Schedule</a>
                <a href="#visitor-guides" class="block py-2 text-chocolate_cosmos-500 hover:text-redwood font-semibold">Visitor Guides</a>
                <a href="#our-story" class="block py-2 text-chocolate_cosmos-500 hover:text-redwood font-semibold">Our Story</a>
                <a href="#faq" class="block py-2 text-chocolate_cosmos-500 hover:text-redwood font-semibold">FAQ</a>
            </div>
        </div>
    </nav>

    <!-- Hero Video Section -->
    <section id="home" class="relative pt-16 overflow-hidden">
        <!-- Video Container -->
        <div class="relative w-full h-screen max-h-[600px] md:max-h-[700px]">
            <!-- Background Video -->
            <video 
                class="absolute top-0 left-0 w-full h-full object-cover"
                autoplay 
                loop 
                muted 
                playsinline>
                <!-- Option 1: Self-hosted video (recommended for GitHub Pages) -->
                <source src="./assets/hero-video.mp4" type="video/mp4">
                <source src="./assets/hero-video.webm" type="video/webm">
                
                <!-- Fallback for browsers that don't support video -->
                Your browser does not support the video tag.
            </video>
            
            <!-- Dark Overlay for better text readability -->
            <!-- <div class="absolute top-0 left-0 w-full h-full bg-black bg-opacity-40"></div> -->
            
            <!-- Text Content Overlay
            <div class="relative z-10 flex flex-col items-center justify-center h-full px-4 text-center">
                <h1 class="text-5xl md:text-7xl font-bold text-white mb-6 font-heading drop-shadow-lg">
                    Welcome to RANGEL4EVER
                </h1>
                <p class="text-xl md:text-3xl text-white mb-8 max-w-3xl mx-auto drop-shadow-md">
                    Creating unforgettable experiences and lasting memories
                </p>
                <a href="#schedule" class="inline-block bg-redwood hover:bg-cordovan text-white font-semibold py-4 px-10 rounded-lg transition-colors shadow-xl hover:shadow-2xl transform hover:scale-105">
                    View Schedule
                </a>
            </div> -->
        </div>
    </section>

    <!-- Large Quote Section -->
    <section class="py-20 px-4 bg-cordovan">
        <div class="container mx-auto">
            <a href="https://example.com" target="_blank" rel="noopener noreferrer" class="block hover:scale-105 transition-transform">
                <blockquote class="text-center">
                    <p class="text-3xl md:text-5xl font-bold text-white mb-6 leading-relaxed font-heading">
                        "The best way to predict the future is to create it together."
                    </p>
                    <footer class="text-xl text-melon-800">
                        — Click to learn more
                    </footer>
                </blockquote>
            </a>
        </div>
    </section>

    <!-- Schedule Section -->
    <section id="schedule" class="py-20 px-4">
        <div class="container mx-auto max-w-4xl">
            <h2 class="text-4xl font-bold text-chocolate_cosmos text-center mb-12 font-heading">Schedule</h2>
            
            <!-- Loading State -->
            <div id="schedule-loading" class="text-center py-12">
                <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-redwood"></div>
                <p class="mt-4 text-cordovan-400">Loading schedule...</p>
            </div>
            
            <!-- Error State -->
            <div id="schedule-error" class="hidden bg-melon-900 border-l-4 border-redwood rounded-lg p-6">
                <h3 class="text-xl font-semibold text-chocolate_cosmos mb-2 font-heading">Unable to Load Schedule</h3>
                <p class="text-cordovan-400 mb-4">We're having trouble loading the schedule. Please try refreshing the page.</p>
                <button onclick="loadSchedule()" class="bg-redwood hover:bg-cordovan text-white font-semibold py-2 px-6 rounded-lg transition-colors">
                    Try Again
                </button>
            </div>
            
            <!-- Schedule Container (populated by JavaScript) -->
            <div id="schedule-container" class="space-y-6 hidden">
                <!-- Events will be inserted here dynamically -->
            </div>
        </div>
    </section>

    <!-- Visitor Guides Section -->
    <section id="visitor-guides" class="py-20 px-4 bg-white">
        <div class="container mx-auto max-w-6xl">
            <h2 class="text-4xl font-bold text-chocolate_cosmos text-center mb-12 font-heading">Visitor Guides</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-gradient-to-br from-apricot-800 to-melon-800 rounded-lg shadow-lg p-8">
                    <div class="text-redwood mb-4">
                        <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-chocolate_cosmos mb-3 font-heading">Getting Here</h3>
                    <p class="text-cordovan-400 mb-4">
                        Detailed directions and transportation options to help you arrive with ease.
                    </p>
                    <ul class="space-y-2 text-chocolate_cosmos-400">
                        <li>• By car: Parking available</li>
                        <li>• By train: 10 min walk</li>
                        <li>• By bus: Stop nearby</li>
                    </ul>
                </div>

                <div class="bg-gradient-to-br from-apricot-800 to-melon-800 rounded-lg shadow-lg p-8">
                    <div class="text-redwood mb-4">
                        <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-chocolate_cosmos mb-3 font-heading">Accommodations</h3>
                    <p class="text-cordovan-400 mb-4">
                        Recommended hotels and lodging options near the venue.
                    </p>
                    <ul class="space-y-2 text-chocolate_cosmos-400">
                        <li>• Grand Hotel (0.5 mi)</li>
                        <li>• Comfort Inn (1.2 mi)</li>
                        <li>• Budget Lodge (2.0 mi)</li>
                    </ul>
                </div>

                <div class="bg-gradient-to-br from-apricot-800 to-melon-800 rounded-lg shadow-lg p-8">
                    <div class="text-redwood mb-4">
                        <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-chocolate_cosmos mb-3 font-heading">Local Tips</h3>
                    <p class="text-cordovan-400 mb-4">
                        Insider information to make your visit more enjoyable.
                    </p>
                    <ul class="space-y-2 text-chocolate_cosmos-400">
                        <li>• Best restaurants nearby</li>
                        <li>• Weather considerations</li>
                        <li>• What to bring</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Story Section -->
    <section id="our-story" class="py-20 px-4">
        <div class="container mx-auto max-w-4xl">
            <h2 class="text-4xl font-bold text-chocolate_cosmos text-center mb-12 font-heading">Our Story</h2>
            <div class="bg-white rounded-lg shadow-xl p-8 md:p-12">
                <div class="prose prose-lg max-w-none">
                    <p class="text-cordovan-400 text-lg leading-relaxed mb-6">
                        It all began with a simple idea and a shared vision. What started as a small gathering 
                        has grown into something truly special—a celebration of community, connection, and the 
                        moments that bring us together.
                    </p>
                    <p class="text-cordovan-400 text-lg leading-relaxed mb-6">
                        Over the years, we've witnessed countless memories being made, friendships being forged, 
                        and dreams being realized. Each event has been a testament to the power of coming together 
                        with purpose and passion.
                    </p>
                    <p class="text-cordovan-400 text-lg leading-relaxed mb-6">
                        Today, RANGEL4EVER stands as more than just an event—it's a tradition, a family, and a 
                        promise to continue creating experiences that inspire and unite us all.
                    </p>
                    <div class="mt-8 p-6 bg-melon-900 rounded-lg border-l-4 border-redwood">
                        <p class="text-chocolate_cosmos italic text-lg font-heading">
                            "Together, we've built something extraordinary. This is our story, and you're part of it."
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-20 px-4 bg-white">
        <div class="container mx-auto max-w-4xl">
            <h2 class="text-4xl font-bold text-chocolate_cosmos text-center mb-12 font-heading">Frequently Asked Questions</h2>
            
            <!-- Loading State -->
            <div id="faq-loading" class="text-center py-12">
                <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-redwood"></div>
                <p class="mt-4 text-cordovan-400">Loading FAQs...</p>
            </div>
            
            <!-- Error State -->
            <div id="faq-error" class="hidden bg-melon-900 border-l-4 border-redwood rounded-lg p-6">
                <h3 class="text-xl font-semibold text-chocolate_cosmos mb-2 font-heading">Unable to Load FAQs</h3>
                <p class="text-cordovan-400 mb-4">We're having trouble loading the FAQs. Please try refreshing the page.</p>
                <button onclick="loadFAQs()" class="bg-redwood hover:bg-cordovan text-white font-semibold py-2 px-6 rounded-lg transition-colors">
                    Try Again
                </button>
            </div>
            
            <!-- FAQ Container (populated by JavaScript) -->
            <div id="faq-container" class="space-y-6 hidden">
                <!-- FAQs will be inserted here dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-chocolate_cosmos text-white py-12 px-4">
        <div class="container mx-auto text-center">
            <h3 class="text-2xl font-bold mb-4 font-heading">RANGEL4EVER</h3>
            <p class="text-melon-700 mb-6">Creating memories that last forever</p>
            <div class="flex justify-center space-x-6 mb-6">
                <a href="#home" class="text-melon-700 hover:text-melon transition-colors font-semibold">Home</a>
                <a href="#schedule" class="text-melon-700 hover:text-melon transition-colors font-semibold">Schedule</a>
                <a href="#visitor-guides" class="text-melon-700 hover:text-melon transition-colors font-semibold">Guides</a>
                <a href="#our-story" class="text-melon-700 hover:text-melon transition-colors font-semibold">Story</a>
                <a href="#faq" class="text-melon-700 hover:text-melon transition-colors font-semibold">FAQ</a>
            </div>
            <p class="text-melon-800">&copy; 2025 RANGEL4EVER. Built with ❤️ and Tailwind CSS.</p>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        function toggleMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // ============================================
        // GOOGLE SHEETS INTEGRATION (OPTIMIZED - CSV METHOD)
        // ============================================
        
        // Your Google Sheets CSV export URLs
        // File → Share → Publish to web → Choose specific sheet and CSV format
        // Get your Sheet ID from: https://docs.google.com/spreadsheets/d/SHEET_ID/edit
        
        // Schedule tab (first sheet or specify gid)
        const SCHEDULE_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS2oAMBT5LlO-tU1rh_APIM5SRwQ1L7aJ49D7kdjBjLJXiF6gD8ErpYVnY4oJ5nLWvazIPl-vCwNXYl/pub?output=csv';
        
        // FAQs tab (add &gid=SHEET_ID for specific tab)
        // Replace SHEET_GID with your FAQs sheet's gid number
        const FAQS_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS2oAMBT5LlO-tU1rh_APIM5SRwQ1L7aJ49D7kdjBjLJXiF6gD8ErpYVnY4oJ5nLWvazIPl-vCwNXYl/pub?gid=141987378&output=csv';
        
        // Load schedule from Google Sheets (CSV method - 5-10x faster!)
        async function loadSchedule() {
            const loadingEl = document.getElementById('schedule-loading');
            const errorEl = document.getElementById('schedule-error');
            const containerEl = document.getElementById('schedule-container');
            
            loadingEl.classList.remove('hidden');
            errorEl.classList.add('hidden');
            containerEl.classList.add('hidden');
            
            try {
                // Check if URL is configured
                if (SCHEDULE_CSV_URL.includes('YOUR_SHEET_ID')) {
                    throw new Error('Google Sheets URL not configured');
                }
                
                // Fetch CSV data (200-400ms vs 2000ms with Apps Script!)
                const response = await fetch(SCHEDULE_CSV_URL);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const csvText = await response.text();
                const events = parseCSV(csvText);
                
                if (!events || events.length === 0) {
                    throw new Error('No events found in the schedule');
                }
                
                // Sort by order field
                events.sort((a, b) => {
                    const orderA = parseInt(a.order) || 0;
                    const orderB = parseInt(b.order) || 0;
                    return orderA - orderB;
                });
                
                // Clear and populate container
                containerEl.innerHTML = '';
                events.forEach(event => {
                    const eventCard = createEventCard(event);
                    containerEl.appendChild(eventCard);
                });
                
                loadingEl.classList.add('hidden');
                containerEl.classList.remove('hidden');
                
            } catch (error) {
                console.error('Error loading schedule:', error);
                loadingEl.classList.add('hidden');
                errorEl.classList.remove('hidden');
                console.error('Error details:', {
                    message: error.message,
                    csvUrl: SCHEDULE_CSV_URL
                });
            }
        }
        
        // Load FAQs from Google Sheets
        async function loadFAQs() {
            const loadingEl = document.getElementById('faq-loading');
            const errorEl = document.getElementById('faq-error');
            const containerEl = document.getElementById('faq-container');
            
            loadingEl.classList.remove('hidden');
            errorEl.classList.add('hidden');
            containerEl.classList.add('hidden');
            
            try {
                // Check if URL is configured
                if (FAQS_CSV_URL.includes('SHEET_GID')) {
                    throw new Error('FAQs sheet GID not configured');
                }
                
                // Fetch CSV data
                const response = await fetch(FAQS_CSV_URL);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const csvText = await response.text();
                const faqs = parseCSV(csvText);
                
                if (!faqs || faqs.length === 0) {
                    throw new Error('No FAQs found');
                }
                
                // Sort by id field
                faqs.sort((a, b) => {
                    const idA = parseInt(a.id) || 0;
                    const idB = parseInt(b.id) || 0;
                    return idA - idB;
                });
                
                // Clear and populate container
                containerEl.innerHTML = '';
                faqs.forEach(faq => {
                    const faqCard = createFAQCard(faq);
                    containerEl.appendChild(faqCard);
                });
                
                loadingEl.classList.add('hidden');
                containerEl.classList.remove('hidden');
                
            } catch (error) {
                console.error('Error loading FAQs:', error);
                loadingEl.classList.add('hidden');
                errorEl.classList.remove('hidden');
                console.error('Error details:', {
                    message: error.message,
                    csvUrl: FAQS_CSV_URL
                });
            }
        }
        
        // Parse CSV to JSON array
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            if (lines.length < 2) {
                throw new Error('CSV file is empty or invalid');
            }
            
            const headers = parseCSVLine(lines[0]);
            const events = [];
            
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                
                // Skip empty lines
                if (values.length === 0 || values.every(v => !v)) {
                    continue;
                }
                
                if (values.length === headers.length) {
                    const event = {};
                    headers.forEach((header, index) => {
                        event[header.trim()] = values[index].trim();
                    });
                    events.push(event);
                }
            }
            
            return events;
        }
        
        // Parse a single CSV line (handles quoted values with commas)
        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                
                if (char === '"') {
                    // Handle escaped quotes ("")
                    if (inQuotes && line[i + 1] === '"') {
                        current += '"';
                        i++; // Skip next quote
                    } else {
                        inQuotes = !inQuotes;
                    }
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }
            
            result.push(current.trim());
            return result;
        }
        
        // Create an event card element
        function createEventCard(event) {
            const card = document.createElement('div');
            card.className = 'bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow';
            
            card.innerHTML = `
                <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                    <div class="mb-4 md:mb-0">
                        <h3 class="text-2xl font-semibold text-chocolate_cosmos mb-2 font-heading">
                            ${escapeHtml(event.title || 'Untitled Event')}
                        </h3>
                        <p class="text-cordovan-400">
                            ${escapeHtml(event.description || '')}
                        </p>
                    </div>
                    <div class="text-redwood font-semibold md:text-right">
                        <p class="text-lg">${escapeHtml(event.date || '')}</p>
                        <p>${escapeHtml(event.time || '')}</p>
                    </div>
                </div>
            `;
            
            return card;
        }
        
        // Create a FAQ card element
        function createFAQCard(faq) {
            const card = document.createElement('div');
            card.className = 'bg-gradient-to-br from-apricot-800 to-melon-800 rounded-lg shadow-lg p-6';
            
            card.innerHTML = `
                <h3 class="text-xl font-semibold text-chocolate_cosmos mb-3 font-heading">
                    ${escapeHtml(faq.question || 'Question')}
                </h3>
                <p class="text-cordovan-400">
                    ${escapeHtml(faq.answer || '')}
                </p>
            `;
            
            return card;
        }
        
        // Escape HTML to prevent XSS attacks
        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        // Load schedule and FAQs when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadSchedule();
            loadFAQs();
        });
    </script>
</body>
</html>
